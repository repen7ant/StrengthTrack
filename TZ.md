# StrengthTrack — система планирования силовых тренировок для опытных натуральных атлетов

## 1. Название и концепция

**StrengthTrack** — веб-приложение для планирования силовых тренировок на основе принципов RPE / RIR и фиксированной 4-недельной периодизации для основных силовых упражнений.

**Проблема, которую решает продукт:**

Опытные натуральные атлеты не могут эффективно прогрессировать, выкладываясь на максимум на каждой тренировке. Отсутствие структурированного планирования приводит к:

- Накоплению усталости;
- Стагнации силовых показателей;
- Повышенному риску травм;
- Отсутствию наглядного контроля прогресса.

StrengthTrack автоматизирует расчёт рабочих весов и мезоциклов на основе лучших подходов пользователя, помогая управлять нагрузкой и восстановлением.

## 2. Целевая аудитория и роли

**Целевая аудитория:**

- Натуральные атлеты уровня intermediate / advanced.
- Атлеты, использующие RPE / RIR или готовые их применять.

**Роли пользователей:**

| Роль                            | Описание возможностей                                                            |
| :------------------------------ | :------------------------------------------------------------------------------- |
| **Гость**                       | Просмотр главной страницы и описания методологии.                                |
| **Авторизованный пользователь** | Управление лучшими подходами, генерация мезоциклов, просмотр графиков прогресса. |
| **Администратор**               | Управление упражнениями через Django Admin.                                      |

## 3. Схема данных (Сущности)

### 1. UserProfile (Профиль пользователя)

**Описание:** Расширение стандартного Django User для хранения тренировочного контекста.
**Поля:**

- `user` — связь OneToOne с `User`.
- `created_at` — дата создания профиля.

### 2. Exercise (Упражнение)

**Описание:** Справочник упражнений.
**Поля:**

- `name` — уникальное название упражнения.
- `created_at` — дата добавления.
**Используется для:**
- Основных упражнений (присед, жим лёжа, тяга).
- Любых дополнительных упражнений в будущем.

### 3. BestSet (Лучший подход)

**Описание:** Хранит актуальный лучший подход пользователя для каждого упражнения.
**Ограничения:** Один BestSet на пользователя и упражнение (`unique_together`).
**Поля:**

- `user` — владелец результата.
- `exercise` — упражнение.
- `weight` — рабочий вес (кг).
- `reps` — количество повторений.
- `estimated_1rm` — расчётный 1RM (формула Brzycki).
- `updated_at` — дата последнего обновления.
**Поведение:** `estimated_1rm` автоматически пересчитывается при сохранении.

### 4. BestSetHistory (История лучших подходов)

**Описание:** Хранит историю предыдущих лучших подходов пользователя.
**Поля:**

- `user`
- `exercise`
- `weight`
- `reps`
- `estimated_1rm`
- `created_at` — дата фиксации.
**Назначение:**
- Отображение прогресса 1RM по датам.
- Анализ долгосрочного развития силы.

### 5. Mesocycle (Мезоцикл)

**Описание:** 4-недельный тренировочный цикл для одного упражнения.
**Поля:**

- `user`
- `exercise`
- `start_date` — дата начала мезоцикла.
- `week` — номер недели (1–4).
- `rpe` — целевой RPE.
- `rir` — целевой RIR.
- `target_weight` — рассчитанный рабочий вес.
- `target_reps_min` — минимальное количество повторений.
- `target_reps_max` — максимальное количество повторений.
- `created_at` — дата создания записи.
**Ограничения:** Уникальность по (`user`, `exercise`, `start_date`, `week`).

## 4. Основные пользовательские сценарии (User Stories)

1.  **Ввод лучшего подхода**

    > Как пользователь, я добавляю лучший подход (вес и повторения) для упражнения, чтобы система рассчитала мой estimated 1RM и сохранила актуальный результат.
    > Если новый результат лучше предыдущего — он становится текущим, а старый сохраняется в истории.

2.  **Генерация мезоцикла**

    > Как пользователь, я указываю дату начала мезоцикла, чтобы получить 4-недельный план для:
    >
    > - Barbell Back Squat
    > - Barbell Bench Press
    > - Deadlift
    >   Если хотя бы для одного упражнения отсутствует BestSet — генерация невозможна.

3.  **Просмотр мезоцикла**

    > Как пользователь, я просматриваю для каждой недели:
    >
    > - целевой рабочий вес;
    > - диапазон повторений;
    > - заданные значения RPE и RIR;
    > - календарные границы недели.

4.  **Повторное планирование**

    > Как пользователь, после завершения мезоцикла я:
    >
    > 1.  Обновляю лучшие подходы.
    > 2.  Задаю новую дату старта.
    > 3.  Получаю следующий мезоцикл с пересчитанными весами.

5.  **Анализ прогресса**
    > Как пользователь, я просматриваю графики изменения estimated 1RM по датам, чтобы оценивать рост силы в основных упражнениях.
    > Графики строятся на основе:
    >
    > - данных BestSetHistory;
    > - актуального BestSet.

## 5. Технический стек

| Компонент             | Технологии                  |
| :-------------------- | :-------------------------- |
| **Backend**           | Python, Django              |
| **База данных**       | SQLite / PostgreSQL         |
| **Frontend**          | Django Templates, Bootstrap |
| **Графики**           | Chart.js                    |
| **Аутентификация**    | Django Auth                 |
| **Администрирование** | Django Admin                |

## Итог

StrengthTrack — это инструмент строгой, но гибкой периодизации, ориентированный на долгосрочный прогресс натуральных атлетов. Приложение помогает управлять нагрузкой, фиксировать рост силы и избегать перетренированности за счёт автоматизации расчётов и визуализации данных.

